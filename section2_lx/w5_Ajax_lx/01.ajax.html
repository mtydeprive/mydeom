<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ajax请求</title>
</head>
<style>
</style>

<body>
    <h1>ajax请求</h1>
    <input type="date">
    <script>
        /*  
     
                 发起ajax请求，获取服务器数据
                 1. 创建一个异步请求对象
                 2. 设置请求参数，建立与服务器连接
                 3. 向服务器发送请求
                 4. 处理服务器响应数据
     
     
                 json规范
                     * 必须双引号
                     * 不能有注释
                     * 不能有多余的逗号
                     * 属性值只能为一下数据类型
                         * Number
                         * String
                         * Boolean
                         * null
                         * Object
                             * Array
                 * json数据
                     * json字符串：符合json规范的字符串
                     * json对象：符合json规范的对象
             */

        // 1. 创建一个异步请求对象
        const xhr = new XMLHttpRequest();

        //2.设置请求参数
        xhr.open('get', 'http://120.76.247.5:2003/api/goods', true)

        //3.向服务器发起请求：xhr.send()
        xhr.send()

        //4.处理服务器响应数据
        xhr.onload = function () {
            //在onload事件中通过xhr.responseText获取服务器响应的数据（json字符串）
            console.log('data=', xhr.responseText);

            // json字符串->json对象
            // JSON.parse()的参数必须为json字符串
            const {data}=JSON.parse(xhr.responseText)

            console.log(data);
        }
    </script>
</body>

</html>